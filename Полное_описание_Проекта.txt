



Описание Проекта
Chemcenter
“Химический центр”




























https://chemcenter.u.cname.dev/
Авторы:
Самойлов И. А.
Сушков А. И.
 
Оглавление
1. Введление.	3
2. Описание работы	4
2.1 Введение	4
2.2 Описание серверной части (Backend)	4
2.2.1 Структура директорий	4
2.2.2 Основные компоненты серверной части	4
2.3 Описание (Front)	5
3. Система плагинов	7
3.1 Введение	7
3.2 Описание	7
3.3 Пример	8
3.4 Список доступных плагинов:	9
4. Другие возможности	10
4.1 Трекер	10
4.2 Посты	11
!! 4.3 Административная панель (детально)	12
5. Хост	13
!! 6. Инициализация и первый запуск	14
!! 6.1 Подготовка к первому запуску	14
!! 6.2 Инициализация проекта	14
!! 6.3 Первый запуск приложения	15
!! 6.4 Первоначальная настройка	15
!! 6.5 Резервное копирование и восстановление	16
!! 6.6 Обслуживание и обновление	16
7. Заключение	17


 
1. Введление.

Проект chemcenter создан и преднозначен для помощи обучающихся, сочитая простой, понятный и удобынй web интерфейс, доступный на любом устройстве.

 Ключевые особенности проекта:
•	Полностью адаптивный дизайн для мобильных и десктопных устройств
•	Модульная архитектура на основе системы плагинов
•	Встроенная система аналитики и статистики
•	Административная панель для управления контентом
•	Поддержка темной и светлой темы интерфейса
•	RESTful API для интеграции с внешними системами
 
2. Описание работы

2.1 Введение

Проект представляет из себя python приложение на фреймворке Flask, Использующий html и jinja для отрисовки странц, а так же JS(Java Script) и css.
	
2.2 Описание серверной части (Backend)

Севрерная часть представляет из себя 
Python falsk приложение написаное для python3.
app.py – основной файл сервера, в нем происходит запуск, и дальнейшая загрузка с работай.
Сервер по умолчанию работает на порту 1253
Который в последствии тунелируется с помощью cname.dev 

if __name__ == '__main__':
    app.run(debug=False, port=1253, host="0.0.0.0")

2.2.1 Структура проекта

/data/ - хранение конфигурации, пользователей, постов и статистики
config.json
elements.json
posts.json
users.json
visits.json
/plugins/ - модули расширения функционала
	__init__.py
  	директории плагинов
/static/ - статические файлы (CSS, JS, изображения)
	css/
		globals.css
		plugins.css
		style.css
	images/
		logo-dark.png
		logo-light.png
	js/
		app.js
		elements-api.js
/templates/ - HTML шаблоны с использованием Jinja2
	Основные шаблоны типа admin.html base.html index.htm, login.html, post.html
	И шаблоны плагинов plugin_plugin-name.html
app.py – Основной файл сервера
2.2.2 Основные компоненты серверной части

1. Инициализация приложения:
app = Flask(__name__)
app.secret_key = 'fYfguehg*GJ&hjgisg93'
CORS(app)



2. Конфигурация:
PLUGINS_DIR = Path('plugins')
DATA_DIR = Path('data')
STATS_FILE = DATA_DIR / 'visits.json'



3. Система аутентификации:
- Хеширование паролей с использованием SHA-256
- Декоратор @login_required для защиты административных маршрутов
- Управление сессиями пользователей

4. Система сбора статистики:
- Запись посещений с уникальными ID сессий
- Анализ статистики по часам, дням, месяцам и годам
- Ограничение размера файла статистики (100000 записей)

5. API маршруты:
- RESTful API для управления конфигурацией
- API для управления плагинами
- API для управления постами и статистикой

 Детальный список API endpoints:
•	GET /api/config - получение конфигурации сайта
•	POST /api/config - обновление конфигурации
•	GET /api/plugins - список доступных плагинов
•	POST /api/plugins/toggle - включение/отключение плагинов
•	GET /api/posts - получение списка постов
•	POST /api/posts - создание нового поста
•	PUT /api/posts/<id> - обновление поста
•	DELETE /api/posts/<id> - удаление поста
•	GET /api/stats - получение статистики посещений
•	POST /api/login - аутентификация администратора
•	POST /api/logout - выход из системы

2.3 Описание (Front)

Отображаемая в браузере часть состоит из основного базового шаблона base.html и других шаблонов таких как index.html, login.html.
Также используются шаблоны от плагинов таких как plugin_periodic_table.html, в которых в основном и реализована логика расчета формул.

Используемые технологии Frontend:
•	HTML5 с семантической разметкой
•	CSS3 с Flexbox и Grid для адаптивного дизайна
•	Vanilla JavaScript (ES6+) для интерактивности
•	Jinja2 шаблонизатор для динамического контента
•	CSS переменные для темизации интерфейса
•	LocalStorage для сохранения пользовательских настроек

Структура фронтенда:

1. Базовый шаблон (base.html):

HTML
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ config.site_title }}{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>


2. Главная страница (index.html):
- Адаптивный дизайн с поддержкой мобильных устройств
- Динамическая загрузка плиток плагинов
- Система переключения тем (светлая/темная)

3. Административная панель (admin.html):
- Управление конфигурацией сайта
- Управление плагинами
- Просмотр статистики посещений
- Управление постами

!! **Административная панель - детальное описание:**

!! **Структура admin панели:**
!! - **Раздел "Конфигурация сайта":**
!!   - Редактирование названия сайта (site_title)
!!   - Изменение описания (site_description)
!!   - Управление логотипами (site_logo_light, site_logo_dark)
!!   - Настройка цветовой схемы (primary_color, secondary_color)
!!   - Включение/отключение темной темы
!!   - Управление отображением плиток на главной странице

!! - **Раздел "Управление плагинами":**
!!   - Список всех установленных плагинов с их статусами
!!   - Включение/отключение плагинов без перезапуска сервера
!!   - Просмотр информации о плагинах (версия, описание, маршрут)
!!   - Горячая перезагрузка плагинов в режиме разработки

!! - **Раздел "Статистика посещений":**
!!   - График посещений по часам, дням, месяцам
!!   - Общее количество уникальных посетителей
!!   - Самые популярные страницы и плагины
!!   - Географическая статистика (по IP адресам)
!!   - Экспорт статистики в CSV формате

!! - **Раздел "Управление постами":**
!!   - Создание, редактирование и удаление постов
!!   - Визуальный редактор с поддержкой Markdown
!!   - Управление категориями и тегами
!!   - Публикация и отложенная публикация
!!   - Просмотр предпросмотра поста

!! **Система аутентификации администратора:**
!! - **Маршрут входа:** `/login`
!! - **Учетные данные по умолчанию:**
!!   - Логин: `admin`
!!   - Пароль: `admin123`
!! - **Хеширование паролей:** SHA-256 с солью
!! - **Защита маршрутов:** Декоратор `@login_required`
!! - **Сессии:** Использование Flask сессий для поддержания состояния
!! - **Автовыход:** Через 24 часа неактивности

!! **API для административной панели:**
!! - `POST /api/login` - аутентификация администратора
!! - `POST /api/logout` - выход из системы
!! - `GET /api/config` - получение текущей конфигурации
!! - `POST /api/config` - обновление конфигурации
!! - `GET /api/plugins` - список плагинов с статусами
!! - `POST /api/plugins/toggle` - включение/отключение плагина
!! - `GET /api/stats` - детальная статистика посещений
!! - `GET /api/posts` - список всех постов
!! - `POST /api/posts` - создание нового поста
!! - `PUT /api/posts/<id>` - обновление поста
!! - `DELETE /api/posts/<id>` - удаление поста

!! **Функции безопасности:**
!! - CSRF защита для всех форм
!! - Rate limiting для предотвращения брутфорса
!! - Валидация входных данных на сервере
!! - Логирование административных действий
!! - Резервное копирование данных перед критическими изменениями

 
3. Система плагинов

3.1 Введение

В проекте реализована система плагинов, которая позволяет легко добавлять новый функционал.

3.2 Описание

Класс PluginManager:

python
class PluginManager:
    def __init__(self):
        self.plugins = {}
        self.config_file = DATA_DIR / 'config.json'
        self.load_plugins()

    def load_plugins(self):
        """Load all plugins from plugins directory"""
        for plugin_dir in PLUGINS_DIR.glob('*/'):
            if plugin_dir.is_dir() and (plugin_dir / '__init__.py').exists():
                plugin_name = plugin_dir.name
                try:
                    import importlib.util
                    spec = importlib.util.spec_from_file_location(
                        f"plugins.{plugin_name}",
                        plugin_dir / '__init__.py'
                    )
                    module = importlib.util.module_from_spec(spec)
                    spec.loader.exec_module(module)

                    if hasattr(module, 'PLUGIN_CONFIG'):
                        self.plugins[plugin_name] = module
                        print(f"✓ Plugin loaded: {plugin_name}")
                except Exception as e:
                    print(f"✗ Error loading plugin {plugin_name}: {e}")


 
 Расширенные возможности системы плагинов:
•	Динамическая загрузка и выгрузка плагинов без перезапуска сервера
•	Автоматическое обнаружение новых плагинов в директории /plugins/
•	Валидация конфигурации плагинов перед загрузкой
•	Изоляция плагинов для предотвращения конфликтов
•	Поддержка зависимостей между плагинами
•	Горячая замена плагинов в режиме разработки

Загрузка: каждый плагин должен содержать конфигурацию для инициализации, пример PLUGIN_CONFIG:

python

PLUGIN_CONFIG = {
    'name': 'Название плагина',
    'description': 'Описание функционала',
    'icon': 'icon-name',
    'version': '1.0.0',
    'enabled': True,
    'route': '/plugin/plugin-name'
}

3.3 Пример
python
plugins/plugin-name/__init__.py
PLUGIN_CONFIG = {
    'name': 'Название плагина',
    'description': 'Описание функционала',
    'icon': 'icon-name',
    'version': '1.0.0',
    'enabled': True,
    'route': '/plugin/plugin-name'
}


 
3.4 Список доступных плагинов:

1. periodic_table - Интерактивная периодическая таблица элементов
•	Подробная информация о каждом элементе
•	Поиск по символу, названию и атомному номеру
•	Визуализация электронных конфигураций

2. le_chatelier - Принцип Ле Шателье для расчета смещения равновесия
•	Интерактивные примеры химического равновесия
•	Расчет смещения при изменении условий

3. solubility_table - Таблица растворимости веществ
•	Поиск растворимости различных соединений
•	Фильтрация по типам веществ

4. Ionic_equation - Решение ионных уравнений
•	Автоматическое разложение на ионы
•	Проверка корректности ионных уравнений

5. balancing_chemical_equations - Балансировка химических уравнений
•	Алгоритмическая балансировка сложных уравнений
•	Поддержка органических и неорганических реакций

6. electrochemical_voltage_series - Электрохимический ряд напряжений
•	Интерактивная таблица электродных потенциалов
•	Расчет ЭДС гальванических элементов

7. hydrocarbon_equations - Уравнения углеводородов
•	Балансировка реакций органической химии
•	Поддержка различных классов углеводородов

8. molar_mass_calculator - Калькулятор молярной массы
•	Расчет молекулярной массы соединений
•	Поддержка сложных химических формул

9. classification_and_nomenclature - Классификация и номенклатура
•	Систематизация неорганических соединений
•	Интерактивные правила номенклатуры ИЮПАК

10. equals - Математические расчеты
•	Интегрированный калькулятор для химических расчетов
•	Поддержка единиц измерений и конвертация
 

4. Другие возможности

4.1 Трекер

Встроенная система отслеживания посещений с детальной статистикой, которую можно просматривать в панели администратора:

python
def record_visit():
    """Record a new visit"""
    data = load_visits()
    
    if 'visitor_id' not in session:
        session['visitor_id'] = str(uuid.uuid4())
    
    visit = {
        'timestamp': datetime.now().isoformat(),
        'session_id': session['visitor_id'],
        'ip': request.remote_addr,
        'user_agent': request.headers.get('User-Agent', '')[:200]
    }
    
    data['visits'].append(visit)
    save_visits(data)
}


Статистика включает:
- Общее количество посещений
- Уникальные посетители
- Данные по часам, дням, месяцам и годам
- Сравнение с предыдущими периодами

 
4.2 Посты

Система управления контентом с возможностью создания, редактирования и удаления постов, используя панель администратора:

python

def create_post():
    """Create new post"""
    data = request.json
    post = {
        'id': int(datetime.now().timestamp() * 1000),
        'title': data.get('title', ''),
        'content': data.get('content', ''),
        'created_at': datetime.now().isoformat(),
        'updated_at': datetime.now().isoformat()
    }
    posts.append(post)
    save_posts(posts)
    return jsonify(post)

 
5. Хост

!! **7. Инициализация и первый запуск**

!! **7.1 Подготовка к первому запуску**

!! **Системные требования:**
!! - Python 3.8 или выше
!! - pip (менеджер пакетов Python)
!! - 2GB свободного дискового пространства
!! - 512MB оперативной памяти (минимум)

!! **Установка зависимостей:**
!! ```bash
!! # Создание виртуального окружения
!! python -m venv .venv
!! 
!! # Активация виртуального окружения
!! # Windows:
!! .venv\Scripts\activate
!! # Linux/Mac:
!! source .venv/bin/activate
!! 
!! # Установка необходимых пакетов
!! pip install flask flask-cors
!! ```

!! **7.2 Инициализация проекта**

!! **Структура данных после первого запуска:**
!! При первом запуске приложение автоматически создает необходимые файлы:

!! **Файл `data/config.json` (конфигурация по умолчанию):**
!! ```json
!! {
!!     "site_title": "Chemcenter",
!!     "site_description": "Научный портал с интерактивными инструментами",
!!     "site_logo_light": "/static/images/logo-light.png",
!!     "site_logo_dark": "/static/images/logo-dark.png",
!!     "theme": "light",
!!     "plugins": {
!!         "periodic_table": {"enabled": true},
!!         "solubility_table": {"enabled": true},
!!         "le_chatelier": {"enabled": true},
!!         "Ionic_equation": {"enabled": true},
!!         "balancing_chemical_equations": {"enabled": true},
!!         "electrochemical_voltage_series": {"enabled": true},
!!         "hydrocarbon_equations": {"enabled": true},
!!         "molar_mass_calculator": {"enabled": true},
!!         "classification_and_nomenclature": {"enabled": true},
!!         "equals": {"enabled": true}
!!     },
!!     "tiles": []
!! }
!! ```

!! **Файл `data/users.json` (административный аккаунт):**
!! ```json
!! {
!!     "admin": {
!!         "username": "admin",
!!         "password_hash": "240be518fabd2724ddb6f04eeb1da5967448d7e831c08c8fa822809f74c720a9",
!!         "role": "admin",
!!         "created_at": "2024-01-01T00:00:00"
!!     }
!! }
!! ```

!! **Файл `data/posts.json` (пустой список постов):**
!! ```json
!! []
!! ```

!! **Файл `data/visits.json` (статистика посещений):**
!! ```json
!! {
!!     "visits": []
!! }
!! ```

!! **7.3 Первый запуск приложения**

!! **Запуск в режиме разработки:**
!! ```bash
!! python app.py
!! ```
!! Приложение будет доступно по адресу: http://localhost:1253

!! **Запуск в production режиме:**
!! ```bash
!! # Отключение debug режима
!! python app.py
!! # или с использованием WSGI сервера
!! pip install gunicorn
!! gunicorn -w 4 -b 0.0.0.0:1253 app:app
!! ```

!! **7.4 Первоначальная настройка**

!! **Шаг 1: Вход в административную панель**
!! 1. Откройте браузер и перейдите по адресу http://localhost:1253/login
!! 2. Введите учетные данные:
!!    - Логин: `admin`
!!    - Пароль: `admin123`
!! 3. Нажмите кнопку "Войти"

!! **Шаг 2: Базовая конфигурация**
!! 1. Перейдите в административную панель: http://localhost:1253/admin
!! 2. В разделе "Конфигурация сайта" измените:
!!    - Название сайта на ваше предпочтительное
!!    - Описание проекта
!!    - Загрузите свои логотипы (если необходимо)
!! 3. Настройте цветовую схему
!! 4. Включите/отключите нужные плагины

!! **Шаг 3: Создание первого поста**
!! 1. В разделе "Управление постами" нажмите "Создать пост"
!! 2. Заполните заголовок и содержание
!! 3. Используйте Markdown для форматирования
!! 4. Опубликуйте пост

!! **Шаг 4: Проверка функционала**
!! 1. Перейдите на главную страницу
!! 2. Проверьте работу плагинов
!! 3. Убедитесь, что статистика посещений работает
!! 4. Проверьте адаптивность на мобильных устройствах

!! **7.5 Резервное копирование и восстановление**

!! **Создание резервной копии:**
!! ```bash
!! # Создание архива с данными
!! tar -czf chemcenter_backup_$(date +%Y%m%d).tar.gz data/
!! 
!! # Или копирование директории данных
!! cp -r data/ data_backup_$(date +%Y%m%d)/
!! ```

!! **Восстановление из резервной копии:**
!! ```bash
!! # Остановка приложения
!! # Восстановление данных
!! rm -rf data/
!! tar -xzf chemcenter_backup_20240101.tar.gz
!! # Запуск приложения
!! python app.py
!! ```

!! **7.6 Обслуживание и обновление**

!! **Регулярное обслуживание:**
!! - Очистка файла статистики при достижении 100000 записей
!! - Резервное копирование данных раз в неделю
!! - Обновление зависимостей Python
!! - Проверка безопасности

!! **Обновление плагинов:**
!! 1. Скопируйте новый плагин в директорию `/plugins/`
!! 2. Перезапустите приложение или используйте горячую перезагрузку
!! 3. Включите плагин в административной панели

!! **Мониторинг производительности:**
!! - Используйте раздел "Статистика" для мониторинга посещений
!! - Следите за размером логов и файлов данных
!! - Оптимизируйте работу плагинов при необходимости

Проект развернут на платформе VPS с использованием туннелирования через cname.dev для доступа по домену https://chemcenter.u.cname.dev/.

Технические характеристики хостинга:
- Python 3.x
- Flask фреймворк
- Порт 1253 для локальной разработки, или любой другой
- Автоматическое туннелирование через cname.dev, по желанию
 
6. Заключение

Проект Chemcenter представляет собой комплексную образовательную платформу для изучения химии, обладающую следующими преимуществами:

- Модульная архитектура: Система плагинов позволяет легко расширять функционал
- Адаптивный интерфейс: Поддержка различных устройств и разрешений экрана
- Интерактивные инструменты: Широкий набор расчетных модулей для химических вычислений
- Административная панель: Полный контроль над контентом и конфигурацией
- Система аналитики: Детальная статистика использования платформы
- Научная точность: Все расчетные модули основаны на проверенных химических формулах и принципах

Проект успешно решает задачу создания доступной и функциональной образовательной среды для изучения химии, сочетая современные веб-технологии с научными методами расчетов.
